{"ast":null,"code":"import { Months } from \"../../shared/consts/months\";\nimport { removeMealAction } from \"../../store/calendar/calendar.action\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"../../user-data.service\";\nimport * as i4 from \"../../calendar/calendar.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../shared/pipes/color-fill.pipe\";\n\nconst _c0 = function (a1, a2) {\n  return [\"/calendar\", a1, a2, \"view\"];\n};\n\nfunction ViewDayComponent_ng_container_0_div_1_span_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 11)(1, \"div\", 12)(2, \"p\", 13);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 14)(5, \"p\", 15);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 15);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ViewDayComponent_ng_container_0_div_1_span_32_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const meal_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(3);\n      return ctx_r6.deleteMealFromList(meal_r5);\n    });\n    i0.ɵɵelement(10, \"i\", 17);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const meal_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(4, _c0, meal_r5.date, meal_r5.time));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", meal_r5.title, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", meal_r5.kcal, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", meal_r5.time, \" \");\n  }\n}\n\nconst _c1 = function () {\n  return [\"/calendar\"];\n};\n\nfunction ViewDayComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"a\", 4);\n    i0.ɵɵtext(3, \"Cancel\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 5)(5, \"h1\", 6);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 7)(8, \"p\", 8)(9, \"span\");\n    i0.ɵɵpipe(10, \"fillPipe\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 7)(14, \"p\", 8)(15, \"span\");\n    i0.ɵɵpipe(16, \"fillPipe\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 7)(20, \"p\", 8)(21, \"span\");\n    i0.ɵɵpipe(22, \"fillPipe\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 7)(26, \"p\", 8)(27, \"span\");\n    i0.ɵɵpipe(28, \"fillPipe\");\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"span\", 9);\n    i0.ɵɵtemplate(32, ViewDayComponent_ng_container_0_div_1_span_32_Template, 11, 7, \"span\", 10);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const user_r3 = ctx.ngIf;\n    const meals_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(31, _c1));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(i0.ɵɵpipeBind2(10, 19, ctx_r2.summaryKCal, user_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.summaryKCal, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" / \", user_r3.minCal, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(i0.ɵɵpipeBind2(16, 22, ctx_r2.summaryFats, user_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.summaryFats, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" / \", user_r3.fats, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(i0.ɵɵpipeBind2(22, 25, ctx_r2.summaryProtein, user_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.summaryProtein, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" / \", user_r3.proteins, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(i0.ɵɵpipeBind2(28, 28, ctx_r2.summaryCarbohydrates, user_r3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.summaryCarbohydrates, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" / \", user_r3.carbohydrates, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.generateMealsList(meals_r1));\n  }\n}\n\nfunction ViewDayComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ViewDayComponent_ng_container_0_div_1_Template, 33, 32, \"div\", 1);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.user$));\n  }\n}\n\nexport class ViewDayComponent {\n  constructor(activeRoute, router, store, udService, cService) {\n    this.activeRoute = activeRoute;\n    this.router = router;\n    this.store = store;\n    this.udService = udService;\n    this.cService = cService;\n    this.date = new Date(+this.activeRoute.snapshot.params['date']);\n    this.time = this.activeRoute.snapshot.params['time'];\n    this.meals = [];\n    this.meals$ = this.cService.mealsArr;\n    this.user$ = this.udService.user$;\n    this.title = '';\n    this.summaryFats = 0;\n    this.summaryProtein = 0;\n    this.summaryCarbohydrates = 0;\n    this.summaryKCal = 0;\n  }\n\n  ngOnInit() {\n    const newDate = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());\n    newDate.setHours(0, 0, 0, 0);\n\n    if (+this.date === +newDate) {\n      this.title = 'Today';\n    } else {\n      const time = new Date(+this.date);\n      let month = Months[time.getMonth()];\n      month = month.charAt(0).toUpperCase() + month.slice(1);\n      this.title = `${time.getDate()}-${month}-${time.getFullYear()}`;\n    }\n  }\n\n  generateMealsList(mealsArr) {\n    mealsArr.forEach(value => {\n      if (+this.date === +value.date) {\n        this.meals.push(value);\n      }\n    });\n    this.meals.forEach(value => {\n      this.summaryFats += +value.fats;\n      this.summaryProtein += +value.proteins;\n      this.summaryCarbohydrates += +value.carbohydrates;\n      this.summaryKCal += +value.kcal;\n    });\n    return this.meals;\n  }\n\n  deleteMealFromList(meal) {\n    this.store.dispatch(removeMealAction({\n      date: meal.date,\n      time: meal.time\n    }));\n    this.meals = this.meals.filter(obj => obj !== meal);\n  }\n\n}\n\nViewDayComponent.ɵfac = function ViewDayComponent_Factory(t) {\n  return new (t || ViewDayComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i3.UserDataService), i0.ɵɵdirectiveInject(i4.CalendarService));\n};\n\nViewDayComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewDayComponent,\n  selectors: [[\"app-view-day\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [1, \"controls\"], [1, \"control\", 3, \"routerLink\"], [1, \"form\"], [1, \"form__title\"], [1, \"section\"], [1, \"amount\"], [1, \"day-view\"], [\"class\", \" flex-container\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex-container\"], [1, \"btn\", \"meal-info\", 3, \"routerLink\"], [1, \"meal-info__title\"], [1, \"space-between\"], [1, \"bold\"], [1, \"btn\", \"btn-danger\", \"width-25\", 3, \"click\"], [1, \"fa\", \"fa-stop-circle-o\"]],\n  template: function ViewDayComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ViewDayComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.meals$));\n    }\n  },\n  directives: [i5.NgIf, i1.RouterLinkWithHref, i5.NgForOf, i1.RouterLink],\n  pipes: [i5.AsyncPipe, i6.ColorFillPipe],\n  styles: [\".amount[_ngcontent-%COMP%] {\\n  font-family: \\\"Roboto\\\", sans-serif;\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 18px;\\n  line-height: 21px;\\n}\\n\\n.blue[_ngcontent-%COMP%] {\\n  color: #799CF4;\\n}\\n\\n.yellow[_ngcontent-%COMP%] {\\n  color: #F5D45E;\\n}\\n\\n.red[_ngcontent-%COMP%] {\\n  color: #F47981;\\n}\\n\\n.section[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  margin-top: 0 !important;\\n}\\n\\n.section__title[_ngcontent-%COMP%] {\\n  margin-bottom: 0 !important;\\n  color: #000000;\\n}\\n\\n.section-image[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 64px;\\n  width: 300px;\\n  height: 130px;\\n  background: #EBEAEA;\\n}\\n\\n.section-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  height: 100%;\\n}\\n\\n.meal-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n  background: #799CF4;\\n  color: white;\\n  width: 190px;\\n  height: 50px;\\n  padding: 2px 5px 5px;\\n}\\n\\n.meal-info[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] {\\n  padding: 0;\\n  margin: 0;\\n}\\n\\n.meal-info[_ngcontent-%COMP%]   .space-between[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.meal-info[_ngcontent-%COMP%]   .space-between[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%] {\\n  font-style: normal;\\n  font-weight: 700;\\n  font-size: 14px;\\n}\\n\\n.meal-info__title[_ngcontent-%COMP%] {\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 14px;\\n  color: #FFFFFF;\\n}\\n\\n.width-25[_ngcontent-%COMP%] {\\n  width: 35px;\\n}\\n\\n.flex-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  margin-bottom: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXctZGF5LmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFxjb2xvcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGlDQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQURGOztBQUdBO0VBQ0UsY0NWUTtBRFVWOztBQUVBO0VBQ0UsY0NWTztBRFdUOztBQUNBO0VBQ0UsY0NaSTtBRGNOOztBQUNBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esd0JBQUE7QUFFRjs7QUFBRTtFQUNFLDJCQUFBO0VBQ0EsY0FBQTtBQUVKOztBQUNFO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFFQSxnQkFBQTtFQUVBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsbUJDaENPO0FEK0JYOztBQUdJO0VBQ0UsWUFBQTtBQUROOztBQU1BO0VBQ0UsYUFBQTtFQUNBLDhCQUFBO0VBQ0Esc0JBQUE7RUFFQSxtQkNuRFE7RURvRFIsWUFBQTtFQUdBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7QUFORjs7QUFRRTtFQUNFLFVBQUE7RUFDQSxTQUFBO0FBTko7O0FBU0U7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7QUFQSjs7QUFTSTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0FBUE47O0FBWUU7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUVBLGNBQUE7QUFYSjs7QUFrQkE7RUFDRSxXQUFBO0FBZkY7O0FBa0JBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FBZkYiLCJmaWxlIjoidmlldy1kYXkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwic3JjL2FwcC9jb2xvcnNcIjtcclxuXHJcbi5hbW91bnR7XHJcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xyXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcclxuICBmb250LXdlaWdodDogNDAwO1xyXG4gIGZvbnQtc2l6ZTogMThweDtcclxuICBsaW5lLWhlaWdodDogMjFweDtcclxufVxyXG4uYmx1ZXtcclxuICBjb2xvcjogJHByaW1hcnk7XHJcbn1cclxuLnllbGxvd3tcclxuICBjb2xvcjogJHllbGxvdztcclxufVxyXG4ucmVke1xyXG4gIGNvbG9yOiAkcmVkO1xyXG59XHJcblxyXG4uc2VjdGlvbntcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgbWFyZ2luLXRvcDogMCAhaW1wb3J0YW50O1xyXG5cclxuICAmX190aXRsZXtcclxuICAgIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gIH1cclxuXHJcbiAgJi1pbWFnZXtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgbWFyZ2luLXRvcDogNjRweDtcclxuXHJcbiAgICB3aWR0aDogMzAwcHg7XHJcbiAgICBoZWlnaHQ6IDEzMHB4O1xyXG4gICAgYmFja2dyb3VuZDogJGlucHV0LWJnO1xyXG5cclxuICAgIGltZ3tcclxuICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLm1lYWwtaW5mb3tcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICBiYWNrZ3JvdW5kOiAkcHJpbWFyeTtcclxuICBjb2xvcjogd2hpdGU7XHJcblxyXG4gIC8vd2lkdGg6IDIyNXB4O1xyXG4gIHdpZHRoOiAxOTBweDtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbiAgcGFkZGluZzogMnB4IDVweCA1cHg7XHJcblxyXG4gICp7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gIH1cclxuXHJcbiAgLnNwYWNlLWJldHdlZW57XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG5cclxuICAgIC5ib2xke1xyXG4gICAgICBmb250LXN0eWxlOiBub3JtYWw7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgLy9saW5lLWhlaWdodDogMTlweDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICZfX3RpdGxle1xyXG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuXHJcbiAgICBjb2xvcjogI0ZGRkZGRjtcclxuICAgIC8vbWFyZ2luLWJvdHRvbTogNnB4O1xyXG4gICAgLy9saW5lLWhlaWdodDogMTZweDtcclxuICB9XHJcblxyXG59XHJcblxyXG4ud2lkdGgtMjV7XHJcbiAgd2lkdGg6IDM1cHg7XHJcbn1cclxuXHJcbi5mbGV4LWNvbnRhaW5lcntcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XHJcbn1cclxuIiwiJHByaW1hcnk6ICM3OTlDRjQ7XHJcbiRwcmltYXJ5LTUwMDogIzAwN2FjMTtcclxuJHByaW1hcnktZGlzYWJsZWQ6ICNiYmRlZmI7XHJcbiR5ZWxsb3c6ICNGNUQ0NUU7XHJcbiRyZWQ6ICNGNDc5ODE7XHJcbiRyZWQtdGFubmVkOiAjZmY0NjQ2O1xyXG4kaW5wdXQtYmc6ICNFQkVBRUE7XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/User/Desktop/werk/calorie-calc/src/app/Forms/view-day/view-day.component.ts"],"names":["Months","removeMealAction","i0","i1","i2","i3","i4","i5","i6","_c0","a1","a2","ViewDayComponent_ng_container_0_div_1_span_32_Template","rf","ctx","_r7","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ViewDayComponent_ng_container_0_div_1_span_32_Template_button_click_9_listener","restoredCtx","ɵɵrestoreView","meal_r5","$implicit","ctx_r6","ɵɵnextContext","deleteMealFromList","ɵɵelement","ɵɵadvance","ɵɵproperty","ɵɵpureFunction2","date","time","ɵɵtextInterpolate1","title","kcal","_c1","ViewDayComponent_ng_container_0_div_1_Template","ɵɵpipe","ɵɵtemplate","user_r3","ngIf","meals_r1","ctx_r2","ɵɵpureFunction0","ɵɵtextInterpolate","ɵɵclassMap","ɵɵpipeBind2","summaryKCal","minCal","summaryFats","fats","summaryProtein","proteins","summaryCarbohydrates","carbohydrates","generateMealsList","ViewDayComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","ctx_r0","ɵɵpipeBind1","user$","ViewDayComponent","constructor","activeRoute","router","store","udService","cService","Date","snapshot","params","meals","meals$","mealsArr","ngOnInit","newDate","getFullYear","getMonth","getDate","setHours","month","charAt","toUpperCase","slice","forEach","value","push","meal","dispatch","filter","obj","ɵfac","ViewDayComponent_Factory","t","ɵɵdirectiveInject","ActivatedRoute","Router","Store","UserDataService","CalendarService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ViewDayComponent_Template","directives","NgIf","RouterLinkWithHref","NgForOf","RouterLink","pipes","AsyncPipe","ColorFillPipe","styles"],"mappings":"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","sourcesContent":["import { Months } from \"../../shared/consts/months\";\r\nimport { removeMealAction } from \"../../store/calendar/calendar.action\";\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"@ngrx/store\";\r\nimport * as i3 from \"../../user-data.service\";\r\nimport * as i4 from \"../../calendar/calendar.service\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"../../shared/pipes/color-fill.pipe\";\r\nconst _c0 = function (a1, a2) { return [\"/calendar\", a1, a2, \"view\"]; };\r\nfunction ViewDayComponent_ng_container_0_div_1_span_32_Template(rf, ctx) { if (rf & 1) {\r\n    const _r7 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"span\", 11)(1, \"div\", 12)(2, \"p\", 13);\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"div\", 14)(5, \"p\", 15);\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"p\", 15);\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(9, \"button\", 16);\r\n    i0.ɵɵlistener(\"click\", function ViewDayComponent_ng_container_0_div_1_span_32_Template_button_click_9_listener() { const restoredCtx = i0.ɵɵrestoreView(_r7); const meal_r5 = restoredCtx.$implicit; const ctx_r6 = i0.ɵɵnextContext(3); return ctx_r6.deleteMealFromList(meal_r5); });\r\n    i0.ɵɵelement(10, \"i\", 17);\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const meal_r5 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(4, _c0, meal_r5.date, meal_r5.time));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", meal_r5.title, \" \");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", meal_r5.kcal, \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", meal_r5.time, \" \");\r\n} }\r\nconst _c1 = function () { return [\"/calendar\"]; };\r\nfunction ViewDayComponent_ng_container_0_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"a\", 4);\r\n    i0.ɵɵtext(3, \"Cancel\");\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(4, \"div\", 5)(5, \"h1\", 6);\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"div\", 7)(8, \"p\", 8)(9, \"span\");\r\n    i0.ɵɵpipe(10, \"fillPipe\");\r\n    i0.ɵɵtext(11);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(12);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(13, \"div\", 7)(14, \"p\", 8)(15, \"span\");\r\n    i0.ɵɵpipe(16, \"fillPipe\");\r\n    i0.ɵɵtext(17);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(18);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(19, \"div\", 7)(20, \"p\", 8)(21, \"span\");\r\n    i0.ɵɵpipe(22, \"fillPipe\");\r\n    i0.ɵɵtext(23);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(24);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(25, \"div\", 7)(26, \"p\", 8)(27, \"span\");\r\n    i0.ɵɵpipe(28, \"fillPipe\");\r\n    i0.ɵɵtext(29);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(30);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(31, \"span\", 9);\r\n    i0.ɵɵtemplate(32, ViewDayComponent_ng_container_0_div_1_span_32_Template, 11, 7, \"span\", 10);\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const user_r3 = ctx.ngIf;\r\n    const meals_r1 = i0.ɵɵnextContext().ngIf;\r\n    const ctx_r2 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(31, _c1));\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(ctx_r2.title);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵclassMap(i0.ɵɵpipeBind2(10, 19, ctx_r2.summaryKCal, user_r3));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.summaryKCal, \" \");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" / \", user_r3.minCal, \" \");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵclassMap(i0.ɵɵpipeBind2(16, 22, ctx_r2.summaryFats, user_r3));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.summaryFats, \" \");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" / \", user_r3.fats, \"\");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵclassMap(i0.ɵɵpipeBind2(22, 25, ctx_r2.summaryProtein, user_r3));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.summaryProtein, \" \");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" / \", user_r3.proteins, \" \");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵclassMap(i0.ɵɵpipeBind2(28, 28, ctx_r2.summaryCarbohydrates, user_r3));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.summaryCarbohydrates, \" \");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" / \", user_r3.carbohydrates, \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.generateMealsList(meals_r1));\r\n} }\r\nfunction ViewDayComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵtemplate(1, ViewDayComponent_ng_container_0_div_1_Template, 33, 32, \"div\", 1);\r\n    i0.ɵɵpipe(2, \"async\");\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.user$));\r\n} }\r\nexport class ViewDayComponent {\r\n    constructor(activeRoute, router, store, udService, cService) {\r\n        this.activeRoute = activeRoute;\r\n        this.router = router;\r\n        this.store = store;\r\n        this.udService = udService;\r\n        this.cService = cService;\r\n        this.date = new Date(+this.activeRoute.snapshot.params['date']);\r\n        this.time = this.activeRoute.snapshot.params['time'];\r\n        this.meals = [];\r\n        this.meals$ = this.cService.mealsArr;\r\n        this.user$ = this.udService.user$;\r\n        this.title = '';\r\n        this.summaryFats = 0;\r\n        this.summaryProtein = 0;\r\n        this.summaryCarbohydrates = 0;\r\n        this.summaryKCal = 0;\r\n    }\r\n    ngOnInit() {\r\n        const newDate = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());\r\n        newDate.setHours(0, 0, 0, 0);\r\n        if (+this.date === +newDate) {\r\n            this.title = 'Today';\r\n        }\r\n        else {\r\n            const time = new Date(+this.date);\r\n            let month = Months[time.getMonth()];\r\n            month = month.charAt(0).toUpperCase() + (month.slice(1));\r\n            this.title = `${time.getDate()}-${month}-${time.getFullYear()}`;\r\n        }\r\n    }\r\n    generateMealsList(mealsArr) {\r\n        mealsArr.forEach((value) => {\r\n            if (+this.date === +value.date) {\r\n                this.meals.push(value);\r\n            }\r\n        });\r\n        this.meals.forEach(value => {\r\n            this.summaryFats += (+value.fats);\r\n            this.summaryProtein += (+value.proteins);\r\n            this.summaryCarbohydrates += (+value.carbohydrates);\r\n            this.summaryKCal += (+value.kcal);\r\n        });\r\n        return this.meals;\r\n    }\r\n    deleteMealFromList(meal) {\r\n        this.store.dispatch(removeMealAction({ date: meal.date, time: meal.time }));\r\n        this.meals = this.meals.filter(obj => obj !== meal);\r\n    }\r\n}\r\nViewDayComponent.ɵfac = function ViewDayComponent_Factory(t) { return new (t || ViewDayComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i3.UserDataService), i0.ɵɵdirectiveInject(i4.CalendarService)); };\r\nViewDayComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ViewDayComponent, selectors: [[\"app-view-day\"]], decls: 2, vars: 3, consts: [[4, \"ngIf\"], [\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [1, \"controls\"], [1, \"control\", 3, \"routerLink\"], [1, \"form\"], [1, \"form__title\"], [1, \"section\"], [1, \"amount\"], [1, \"day-view\"], [\"class\", \" flex-container\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex-container\"], [1, \"btn\", \"meal-info\", 3, \"routerLink\"], [1, \"meal-info__title\"], [1, \"space-between\"], [1, \"bold\"], [1, \"btn\", \"btn-danger\", \"width-25\", 3, \"click\"], [1, \"fa\", \"fa-stop-circle-o\"]], template: function ViewDayComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, ViewDayComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\r\n        i0.ɵɵpipe(1, \"async\");\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.meals$));\r\n    } }, directives: [i5.NgIf, i1.RouterLinkWithHref, i5.NgForOf, i1.RouterLink], pipes: [i5.AsyncPipe, i6.ColorFillPipe], styles: [\".amount[_ngcontent-%COMP%] {\\n  font-family: \\\"Roboto\\\", sans-serif;\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 18px;\\n  line-height: 21px;\\n}\\n\\n.blue[_ngcontent-%COMP%] {\\n  color: #799CF4;\\n}\\n\\n.yellow[_ngcontent-%COMP%] {\\n  color: #F5D45E;\\n}\\n\\n.red[_ngcontent-%COMP%] {\\n  color: #F47981;\\n}\\n\\n.section[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  margin-top: 0 !important;\\n}\\n\\n.section__title[_ngcontent-%COMP%] {\\n  margin-bottom: 0 !important;\\n  color: #000000;\\n}\\n\\n.section-image[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin-top: 64px;\\n  width: 300px;\\n  height: 130px;\\n  background: #EBEAEA;\\n}\\n\\n.section-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  height: 100%;\\n}\\n\\n.meal-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n  background: #799CF4;\\n  color: white;\\n  width: 190px;\\n  height: 50px;\\n  padding: 2px 5px 5px;\\n}\\n\\n.meal-info[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] {\\n  padding: 0;\\n  margin: 0;\\n}\\n\\n.meal-info[_ngcontent-%COMP%]   .space-between[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.meal-info[_ngcontent-%COMP%]   .space-between[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%] {\\n  font-style: normal;\\n  font-weight: 700;\\n  font-size: 14px;\\n}\\n\\n.meal-info__title[_ngcontent-%COMP%] {\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 14px;\\n  color: #FFFFFF;\\n}\\n\\n.width-25[_ngcontent-%COMP%] {\\n  width: 35px;\\n}\\n\\n.flex-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  margin-bottom: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXctZGF5LmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFxjb2xvcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGlDQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQURGOztBQUdBO0VBQ0UsY0NWUTtBRFVWOztBQUVBO0VBQ0UsY0NWTztBRFdUOztBQUNBO0VBQ0UsY0NaSTtBRGNOOztBQUNBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esd0JBQUE7QUFFRjs7QUFBRTtFQUNFLDJCQUFBO0VBQ0EsY0FBQTtBQUVKOztBQUNFO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFFQSxnQkFBQTtFQUVBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsbUJDaENPO0FEK0JYOztBQUdJO0VBQ0UsWUFBQTtBQUROOztBQU1BO0VBQ0UsYUFBQTtFQUNBLDhCQUFBO0VBQ0Esc0JBQUE7RUFFQSxtQkNuRFE7RURvRFIsWUFBQTtFQUdBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7QUFORjs7QUFRRTtFQUNFLFVBQUE7RUFDQSxTQUFBO0FBTko7O0FBU0U7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7QUFQSjs7QUFTSTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0FBUE47O0FBWUU7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUVBLGNBQUE7QUFYSjs7QUFrQkE7RUFDRSxXQUFBO0FBZkY7O0FBa0JBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FBZkYiLCJmaWxlIjoidmlldy1kYXkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwic3JjL2FwcC9jb2xvcnNcIjtcclxuXHJcbi5hbW91bnR7XHJcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xyXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcclxuICBmb250LXdlaWdodDogNDAwO1xyXG4gIGZvbnQtc2l6ZTogMThweDtcclxuICBsaW5lLWhlaWdodDogMjFweDtcclxufVxyXG4uYmx1ZXtcclxuICBjb2xvcjogJHByaW1hcnk7XHJcbn1cclxuLnllbGxvd3tcclxuICBjb2xvcjogJHllbGxvdztcclxufVxyXG4ucmVke1xyXG4gIGNvbG9yOiAkcmVkO1xyXG59XHJcblxyXG4uc2VjdGlvbntcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgbWFyZ2luLXRvcDogMCAhaW1wb3J0YW50O1xyXG5cclxuICAmX190aXRsZXtcclxuICAgIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gIH1cclxuXHJcbiAgJi1pbWFnZXtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgbWFyZ2luLXRvcDogNjRweDtcclxuXHJcbiAgICB3aWR0aDogMzAwcHg7XHJcbiAgICBoZWlnaHQ6IDEzMHB4O1xyXG4gICAgYmFja2dyb3VuZDogJGlucHV0LWJnO1xyXG5cclxuICAgIGltZ3tcclxuICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLm1lYWwtaW5mb3tcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICBiYWNrZ3JvdW5kOiAkcHJpbWFyeTtcclxuICBjb2xvcjogd2hpdGU7XHJcblxyXG4gIC8vd2lkdGg6IDIyNXB4O1xyXG4gIHdpZHRoOiAxOTBweDtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbiAgcGFkZGluZzogMnB4IDVweCA1cHg7XHJcblxyXG4gICp7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gIH1cclxuXHJcbiAgLnNwYWNlLWJldHdlZW57XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG5cclxuICAgIC5ib2xke1xyXG4gICAgICBmb250LXN0eWxlOiBub3JtYWw7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgLy9saW5lLWhlaWdodDogMTlweDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICZfX3RpdGxle1xyXG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuXHJcbiAgICBjb2xvcjogI0ZGRkZGRjtcclxuICAgIC8vbWFyZ2luLWJvdHRvbTogNnB4O1xyXG4gICAgLy9saW5lLWhlaWdodDogMTZweDtcclxuICB9XHJcblxyXG59XHJcblxyXG4ud2lkdGgtMjV7XHJcbiAgd2lkdGg6IDM1cHg7XHJcbn1cclxuXHJcbi5mbGV4LWNvbnRhaW5lcntcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XHJcbn1cclxuIiwiJHByaW1hcnk6ICM3OTlDRjQ7XHJcbiRwcmltYXJ5LTUwMDogIzAwN2FjMTtcclxuJHByaW1hcnktZGlzYWJsZWQ6ICNiYmRlZmI7XHJcbiR5ZWxsb3c6ICNGNUQ0NUU7XHJcbiRyZWQ6ICNGNDc5ODE7XHJcbiRyZWQtdGFubmVkOiAjZmY0NjQ2O1xyXG4kaW5wdXQtYmc6ICNFQkVBRUE7XHJcbiJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}